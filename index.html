<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yeni Sekme</title>
    <!-- Tailwind CSS (Styling) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts (Inter) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    animation: { 'fade-in': 'fadeIn 0.5s ease-out forwards' },
                    keyframes: { fadeIn: { '0%': { opacity: '0', transform: 'translateY(10px)' }, '100%': { opacity: '1', transform: 'translateY(0)' } } }
                }
            }
        }
    </script>
    <style>
        body {
            background-image: url('https://images.unsplash.com/photo-1477346611705-65d1883cee1e?q=80&w=2070&auto=format&fit=crop'); 
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            transition: background 0.5s ease;
        }
        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .glass-dark {
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        /* Search input glow */
        input:focus { box-shadow: 0 0 15px rgba(255, 255, 255, 0.3); }
    </style>
</head>
<body class="h-screen w-full flex flex-col items-center justify-center text-white overflow-hidden select-none relative">

    <!-- Arkaplan Karartma Katmanı -->
    <div class="absolute inset-0 bg-black/40 z-0"></div>

    <!-- Ayarlar Butonu -->
    <button onclick="toggleSettings()" class="absolute top-6 right-6 z-20 p-2 rounded-full hover:bg-white/10 transition duration-300 group">
        <i class="ph ph-gear text-2xl group-hover:rotate-90 transition-transform duration-500"></i>
    </button>

    <!-- Ana İçerik -->
    <main class="z-10 w-full max-w-3xl px-6 flex flex-col items-center gap-8 animate-fade-in">
        
        <!-- Saat ve Tarih -->
        <div class="text-center group cursor-default">
            <h1 id="clock" class="text-7xl md:text-9xl font-bold tracking-tight drop-shadow-lg font-mono">00:00</h1>
            <p id="date" class="text-lg md:text-xl font-light opacity-80 mt-2 tracking-widest uppercase">Yükleniyor...</p>
        </div>

        <!-- Selamlama -->
        <div class="text-center">
            <h2 class="text-2xl md:text-3xl font-medium drop-shadow-md">
                <span id="greetingTime">Merhaba</span>, <span id="userNameDisplay" class="font-bold text-blue-200 border-b-2 border-transparent hover:border-blue-200 transition-all cursor-pointer" onclick="toggleSettings()">Kullanıcı</span>.
            </h2>
        </div>

        <!-- Arama Çubuğu -->
        <div class="w-full max-w-xl relative group">
            <div class="absolute left-4 top-1/2 -translate-y-1/2 text-gray-300">
                <i class="ph ph-magnifying-glass text-xl"></i>
            </div>
            <input 
                type="text" 
                id="searchInput"
                placeholder="Google'da ara..." 
                class="w-full py-4 pl-12 pr-6 rounded-2xl glass text-white placeholder-gray-300 focus:outline-none focus:bg-white/20 transition-all duration-300 text-lg shadow-lg"
                autocomplete="off"
            >
        </div>

        <!-- Hızlı Linkler (Grid) -->
        <div id="linksContainer" class="grid grid-cols-4 md:grid-cols-5 gap-4 mt-4">
            <!-- Linkler JS ile buraya eklenecek -->
        </div>

    </main>

    <!-- Ayarlar Modalı -->
    <div id="settingsModal" class="hidden absolute z-30 inset-0 bg-black/60 flex items-center justify-center backdrop-blur-sm opacity-0 transition-opacity duration-300">
        <div class="glass-dark p-8 rounded-3xl w-full max-w-md m-4 shadow-2xl transform scale-95 transition-transform duration-300" id="modalContent">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl font-bold">Ayarlar</h3>
                <button onclick="toggleSettings()" class="hover:text-red-400 transition"><i class="ph ph-x text-2xl"></i></button>
            </div>
            
            <div class="space-y-4">
                <div>
                    <label class="block text-sm text-gray-400 mb-1">İsminiz</label>
                    <input type="text" id="nameInput" class="w-full bg-white/10 rounded-lg p-3 focus:outline-none focus:ring-2 ring-blue-500 transition" placeholder="Adınızı girin">
                </div>
                
                <div class="pt-4 border-t border-white/10">
                    <label class="block text-sm text-gray-400 mb-2">Yeni Kısayol Ekle</label>
                    <div class="flex gap-2">
                        <input type="text" id="newLinkTitle" class="w-1/3 bg-white/10 rounded-lg p-3 text-sm focus:outline-none" placeholder="Başlık (örn: YouTube)">
                        <input type="text" id="newLinkUrl" class="w-2/3 bg-white/10 rounded-lg p-3 text-sm focus:outline-none" placeholder="URL (https://...)">
                    </div>
                    <button onclick="addNewLink()" class="mt-3 w-full bg-blue-600 hover:bg-blue-500 text-white p-2 rounded-lg transition font-medium">Ekle</button>
                </div>

                <div class="pt-2">
                     <button onclick="resetLinks()" class="text-xs text-red-400 hover:text-red-300 underline">Varsayılan Linkleri Sıfırla</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="absolute bottom-4 text-xs text-white/40 z-10 font-light">
        Odaklan ve üret.
    </footer>

    <script>
        // --- DOM Elements ---
        const clockEl = document.getElementById('clock');
        const dateEl = document.getElementById('date');
        const greetingTimeEl = document.getElementById('greetingTime');
        const userNameDisplay = document.getElementById('userNameDisplay');
        const searchInput = document.getElementById('searchInput');
        const linksContainer = document.getElementById('linksContainer');
        const settingsModal = document.getElementById('settingsModal');
        const modalContent = document.getElementById('modalContent');
        const nameInput = document.getElementById('nameInput');

        // --- State Management (LocalStorage) ---
        const defaultLinks = [
            { title: 'Youtube', url: 'https://youtube.com', icon: 'ph-youtube-logo' },
            { title: 'Twitter', url: 'https://twitter.com', icon: 'ph-twitter-logo' },
            { title: 'Instagram', url: 'https://instagram.com', icon: 'ph-instagram-logo' },
            { title: 'Reddit', url: 'https://reddit.com', icon: 'ph-reddit-logo' },
            { title: 'GitHub', url: 'https://github.com', icon: 'ph-github-logo' }
        ];

        let userState = JSON.parse(localStorage.getItem('userState')) || {
            name: 'Gezgin',
            links: defaultLinks
        };

        // --- Clock & Date Function ---
        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            clockEl.textContent = `${hours}:${minutes}`;

            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            dateEl.textContent = now.toLocaleDateString('tr-TR', options);

            // Selamlama güncelleme
            const h = now.getHours();
            if (h >= 5 && h < 12) greetingTimeEl.textContent = 'Günaydın';
            else if (h >= 12 && h < 18) greetingTimeEl.textContent = 'Tünaydın';
            else if (h >= 18 && h < 23) greetingTimeEl.textContent = 'İyi Akşamlar';
            else greetingTimeEl.textContent = 'İyi Geceler';
        }

        // --- Search Function ---
        searchInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const query = searchInput.value;
                if (query.trim()) {
                    window.location.href = `https://www.google.com/search?q=${encodeURIComponent(query)}`;
                }
            }
        });

        // --- Links Rendering ---
        function renderLinks() {
            linksContainer.innerHTML = '';
            userState.links.forEach((link, index) => {
                const linkEl = document.createElement('a');
                linkEl.href = link.url;
                linkEl.className = 'flex flex-col items-center justify-center p-4 rounded-xl glass hover:bg-white/20 transition-all duration-300 group relative';
                
                // İkon belirleme (basit mantık veya generic ikon)
                let iconClass = link.icon || 'ph-globe';
                if(!link.icon) {
                    // Basit domain kontrolü
                    if(link.url.includes('google')) iconClass = 'ph-google-logo';
                    else if(link.url.includes('linkedin')) iconClass = 'ph-linkedin-logo';
                    else if(link.url.includes('amazon')) iconClass = 'ph-amazon-logo';
                    else if(link.url.includes('netflix')) iconClass = 'ph-film-strip';
                }

                linkEl.innerHTML = `
                    <i class="ph ${iconClass} text-3xl mb-1 group-hover:scale-110 transition-transform"></i>
                    <span class="text-xs font-medium opacity-80 group-hover:opacity-100">${link.title}</span>
                    <button onclick="deleteLink(event, ${index})" class="absolute -top-1 -right-1 bg-red-500 rounded-full p-1 opacity-0 group-hover:opacity-100 transition shadow-sm hover:bg-red-600">
                        <i class="ph ph-minus text-white text-xs font-bold"></i>
                    </button>
                `;
                linksContainer.appendChild(linkEl);
            });
            
            // "Ekle" butonu (Tasarım bütünlüğü için linklerin sonuna)
            const addBtn = document.createElement('div');
            addBtn.onclick = toggleSettings;
            addBtn.className = 'flex flex-col items-center justify-center p-4 rounded-xl border border-white/10 hover:bg-white/10 transition-all duration-300 cursor-pointer border-dashed opacity-50 hover:opacity-100';
            addBtn.innerHTML = `
                <i class="ph ph-plus text-2xl mb-1"></i>
                <span class="text-xs font-medium">Ekle</span>
            `;
            linksContainer.appendChild(addBtn);
        }

        // --- Link Management ---
        function addNewLink() {
            const title = document.getElementById('newLinkTitle').value;
            let url = document.getElementById('newLinkUrl').value;

            if (title && url) {
                if (!url.startsWith('http')) url = 'https://' + url;
                userState.links.push({ title, url, icon: 'ph-link' });
                saveState();
                renderLinks();
                document.getElementById('newLinkTitle').value = '';
                document.getElementById('newLinkUrl').value = '';
                toggleSettings(); // Modalı kapat
            }
        }

        function deleteLink(e, index) {
            e.preventDefault(); // Linke gitmeyi engelle
            e.stopPropagation();
            if(confirm('Bu kısayolu silmek istiyor musunuz?')) {
                userState.links.splice(index, 1);
                saveState();
                renderLinks();
            }
        }

        function resetLinks() {
            if(confirm('Tüm linkler varsayılan ayarlara dönecek?')) {
                userState.links = [...defaultLinks];
                saveState();
                renderLinks();
            }
        }

        // --- Settings Modal Logic ---
        function toggleSettings() {
            const isHidden = settingsModal.classList.contains('hidden');
            if (isHidden) {
                settingsModal.classList.remove('hidden');
                // Trigger reflow
                void settingsModal.offsetWidth;
                settingsModal.classList.remove('opacity-0');
                modalContent.classList.remove('scale-95');
                modalContent.classList.add('scale-100');
                nameInput.value = userState.name;
            } else {
                settingsModal.classList.add('opacity-0');
                modalContent.classList.remove('scale-100');
                modalContent.classList.add('scale-95');
                setTimeout(() => {
                    settingsModal.classList.add('hidden');
                }, 300);
            }
        }

        // İsim değişikliğini kaydet
        nameInput.addEventListener('input', (e) => {
            userState.name = e.target.value || 'Kullanıcı';
            userNameDisplay.textContent = userState.name;
            saveState();
        });

        function saveState() {
            localStorage.setItem('userState', JSON.stringify(userState));
            userNameDisplay.textContent = userState.name;
        }

        // --- Init ---
        setInterval(updateClock, 1000);
        updateClock();
        renderLinks();
        userNameDisplay.textContent = userState.name;
        
        // Modaldan dışarı tıklayınca kapatma
        settingsModal.addEventListener('click', (e) => {
            if (e.target === settingsModal) toggleSettings();
        });

    </script>
</body>
</html>
